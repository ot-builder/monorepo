import { Layout } from "components/api-doc"
import { R, Method, Fn, Member, Decl, Item } from "components/tyfmt"
import { number, boolean, Data, FontIo, Ot } from "components/exports"
import { pi, extend, optional, annot } from "components/tycon"
export default Layout

# Namespace <Decl s={FontIo}/>

## IO Procedures

### <Fn long s={FontIo.readFont(extend("GS",Data.Order(Ot.Glyph)))} args={{sfnt:annot(Ot.Sfnt,"SFNT to parse"),gsf:annot(Data.OrderStoreFactoryWithDefault(Ot.Glyph,"GS"),"Factory to create a glyph store"),config:optional(annot(FontIo.FontIoConfig,"IO configuration"))}} returns={Ot.Font("GS")}/>

Creates a <R s={Ot.Font}/> form a <R s={Ot.Sfnt}/>. The paraemter *`gsf`* is used to provide the glyph store factory to create the glyph store. When using with <R s={Ot.ListGlyphStore}/>, <R s={Ot.ListGlyphStoreFactory}/> is recommended to be provided for *`gsf`* parameter.

### <Fn long s={FontIo.writeFont(extend("GS",Data.Order(Ot.Glyph)))} args={{font:annot(Ot.Font("GS"),"The font to write"),config:optional(annot(FontIo.FontIoConfig,"IO configuration"))}} returns={Ot.Sfnt}/>

Creates a <R s={Ot.Sfnt}/> form a <R s={Ot.Font}/>.

### <Fn s={FontIo.readSfntOtf} args={{buffer:"Buffer"}} returns={Ot.Sfnt}/>

Creates a <R s={Ot.Sfnt}/> form a <R s="Buffer"/>.

### <Fn s={FontIo.writeSfntOtf} args={{sfnt:Ot.Sfnt}} returns="Buffer"/>

Creates a <R s="Buffer"/> form a <R s={Ot.Sfnt}/>.

## IO Configuration

### Datatype <Decl s={FontIo.FontIoConfig}/>

#### Members

* <Item optional s={FontIo.FontIoConfig.glyphStore}/>:

    * <Member optional s={FontIo.FontIoConfig.glyphStore.statOs2XAvgCharWidth} type={boolean} />

        Whether to recalculate `xAvgCharWidth` property in `OS/2` table when writing fonts. Defaults to `true`.

* <Item optional s={FontIo.FontIoConfig.cff}/>:

    * <Member optional s={FontIo.FontIoConfig.cff.doLocalOptimization} type={boolean} />

        Whether to perform local optimization when writing the `CFF`/`CFF2` table. Defaults to `true`.

    * <Member optional s={FontIo.FontIoConfig.cff.doGlobalOptimization} type={boolean} />

        Whether to perform global optimization when writing the `CFF`/`CFF2` table. Defaults to `true`.

* <Item optional s={FontIo.FontIoConfig.ttf}/>:

    * <Member optional s={FontIo.FontIoConfig.ttf.gvarOptimizeTolerance} type={boolean} />

        The error tolerance when writing the `gvar` table. Defaults to `1/128`. With higher tolerance the `gvar` table writer would do more aggressive IUP optimization.

* <Item optional s={FontIo.FontIoConfig.encoding}/>:

    * <Member optional s={FontIo.FontIoConfig.encoding.statOs2UnicodeRanges} type={boolean} />

        Whether to recalculate `ulUnicodeRange1` ... `ulUnicodeRange4` property in `OS/2` table when writing fonts. Defaults to `true`.

* <Item optional s={FontIo.FontIoConfig.glyphNaming}/>:

    * <Member optional s={FontIo.FontIoConfig.glyphNaming.namer} type={Ot.GlyphNamer} />

        The glyph namer. Defaults to <R s={Ot.StandardOtGlyphNamer}/>.

        