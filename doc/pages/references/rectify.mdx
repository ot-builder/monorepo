import { Layout } from "templates/api-doc"
import { R, Method, Fn, Member, Decl, Item } from "api-doc/tyfmt"
import { array, set, number, boolean, Data, Rectify, Ot } from "api-doc/exports"
import { pi, extend, optional, annot, either, readonly, record } from "api-doc/tycon"
export default Layout

# Namespace <Decl s={Rectify}/>

## Glyph Reference Rectification

### Interface <Decl s={Rectify.GlyphReferenceRectifier}/>

#### Methods

* <Method s={Rectify.GlyphReferenceRectifier.glyphRef} args={{from:Ot.Glyph}} returns={either(null,undefined,Ot.Glyph)}/>

### Constant <Decl s={Rectify.IdGlyphRefRectifier}/> : <R s={Rectify.GlyphReferenceRectifier}/>

The identity (Nop) glyph reference rectifier.

### Function <Fn long s={Rectify.rectifyFontGlyphReferences(extend("GS",Ot.GlyphStore))} args={{rec:annot(Rectify.GlyphReferenceRectifier,"The Rectifier"),font:annot(Ot.Font("GS"),"The font to process")}} returns="void"/>

Perform in-place rectification of `font` using a given `Rectify.GlyphReferenceRectifier`. The procedure will rectify all the glyph references, including the cross-references from the glyph geometries, **but not** the glyph store itself.

## Axis, Coordinate and Point Attachment Rectification

### Interface <Decl s={Rectify.AxisRectifier}/>

#### Methods

* <Method s={Rectify.AxisRectifier.dim} args={{from:Ot.Var.Dim}} returns={either(null,undefined,Ot.Var.Dim)}/>
* <Method s={Rectify.AxisRectifier.axis} args={{from:Ot.Fvar.Dim}} returns={either(null,undefined,Ot.Fvar.Axis)}/>

#### Properties

* <Member readonly s={Rectify.AxisRectifier.addedAxes} type={readonly(array(Ot.Fvar.Axis))}/>

### Constant <Decl s={Rectify.IdAxisRectifier}/> : <R s={Rectify.AxisRectifier}/>

The identity (Nop) axis rectifier.

### Interface <Decl s={Rectify.CoordRectifier}/>

#### Methods

* <Method s={Rectify.CoordRectifier.coord} args={{from:Ot.Var.Value}} returns={Ot.Var.Value}/>
* <Method s={Rectify.CoordRectifier.cv} args={{from:Ot.Var.Value}} returns={Ot.Var.Value}/>

### Constant <Decl s={Rectify.IdCoordRectifier}/> : <R s={Rectify.CoordRectifier}/>

The identity (Nop) coordinate rectifier.

### Interface <Decl s={Rectify.PointAttachmentRectifier}/>

#### Methods

* <Method long s={Rectify.PointAttachmentRectifier.acceptOffset} args={{actual:record({x:Ot.Var.Value,y:Ot.Var.Value}),desired:record({x:Ot.Var.Value,y:Ot.Var.Value})}} returns={record({x:boolean,y:boolean})}/>

#### Properties

* <Member readonly s={Rectify.PointAttachmentRectifier.manner} type={Rectify.PointAttachmentRectifyManner}/>

### Enumeration <Decl s={Rectify.PointAttachmentRectifyManner}/>

* <Item s={Rectify.PointAttachmentRectifyManner.TrustAttachment}/>
* <Item s={Rectify.PointAttachmentRectifyManner.TrustCoordinate}/>

### Constant <Decl s={Rectify.IdPointAttachmentRectifier}/> : <R s={Rectify.PointAttachmentRectifier}/>

The identity (Nop) point Attachment rectifier.

### Function <Fn long s={Rectify.rectifyFontAxes(extend("GS",Ot.GlyphStore))} args={{recAxes:annot(Rectify.AxisRectifier,"Axis rectifier"),font:annot(Ot.Font("GS"),"The font to process")}} returns="void"/>

### Function <Fn long s={Rectify.rectifyFontCoords(extend("GS",Ot.GlyphStore))} args={{recCoord:annot(Rectify.CoordRectifier,"Coordinate rectifier"),recPA:annot(Rectify.PointAttachmentRectifier,"Point Attachment rectifier"),font:annot(Ot.Font("GS"),"The font to process")}} returns="void"/>

## Run All Rectification at Once

### Function <Fn long s={Rectify.rectifyFont(extend("GS",Ot.GlyphStore))} args={{recGlyphRef:annot(Rectify.GlyphReferenceRectifier,"Glyph reference rectifier"),recAxes:annot(Rectify.AxisRectifier,"Axis rectifier"),recCoord:annot(Rectify.CoordRectifier,"Coordinate rectifier"),recPA:annot(Rectify.PointAttachmentRectifier,"Point Attachment rectifier"),font:annot(Ot.Font("GS"),"The font to process")}} returns="void"/>
